CREATE TABLE Przed (id INT AUTO_INCREMENT NOT NULL, grupa_id INT DEFAULT NULL, nazwaObrazka VARCHAR(255) DEFAULT NULL, INDEX IDX_343487E47C5C4730 (grupa_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE atrybuty (id INT AUTO_INCREMENT NOT NULL, wrapy_id INT DEFAULT NULL, wymiar_id INT DEFAULT NULL, margines_id INT DEFAULT NULL, INDEX IDX_72F34559D0D49E6 (wrapy_id), INDEX IDX_72F34559F82A6976 (wymiar_id), INDEX IDX_72F345595711CB1D (margines_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE filtr (id INT AUTO_INCREMENT NOT NULL, nazwa VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE Grupa (id INT AUTO_INCREMENT NOT NULL, nazwa VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE koszulka (id INT AUTO_INCREMENT NOT NULL, nazwa VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE margines (id INT AUTO_INCREMENT NOT NULL, nazwa VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE PodGrupa (id INT AUTO_INCREMENT NOT NULL, grupy_id INT DEFAULT NULL, nazwa VARCHAR(255) NOT NULL, INDEX IDX_B2CA3322E9F13840 (grupy_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE typy (id INT AUTO_INCREMENT NOT NULL, plotno INT DEFAULT NULL, kubek_id INT DEFAULT NULL, nazwa VARCHAR(255) NOT NULL, UNIQUE INDEX UNIQ_98DF0B66F0EC2B17 (plotno), UNIQUE INDEX UNIQ_98DF0B66373AA644 (kubek_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE wrap (id INT AUTO_INCREMENT NOT NULL, nazwa VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE wymiary (id INT AUTO_INCREMENT NOT NULL, nazwa VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE adres (id INT AUTO_INCREMENT NOT NULL, miasto VARCHAR(255) NOT NULL, ulica VARCHAR(255) NOT NULL, kodpocztowy VARCHAR(255) NOT NULL, nrTelefonu VARCHAR(255) NOT NULL, email VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE klient (id INT AUTO_INCREMENT NOT NULL, adresy_id INT DEFAULT NULL, login VARCHAR(255) NOT NULL, haslo VARCHAR(255) NOT NULL, UNIQUE INDEX UNIQ_2B178638EB3B19C8 (adresy_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE klient_zamowienie (klient_id INT NOT NULL, zamowienie_id INT NOT NULL, INDEX IDX_4CFE9F1EA233CB39 (klient_id), INDEX IDX_4CFE9F1E3648EE4E (zamowienie_id), PRIMARY KEY(klient_id, zamowienie_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE Produkt (id INT AUTO_INCREMENT NOT NULL, id_zdjecia_id INT DEFAULT NULL, id_filtru_id INT DEFAULT NULL, id_typu_id INT DEFAULT NULL, netto INT NOT NULL, brutto INT NOT NULL, rabat INT NOT NULL, procVat INT NOT NULL, INDEX IDX_D42EB7393E9916E5 (id_zdjecia_id), INDEX IDX_D42EB7391CB77D52 (id_filtru_id), INDEX IDX_D42EB7394BC8727C (id_typu_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE zamowienie (id INT AUTO_INCREMENT NOT NULL, dataZlozenia DATETIME NOT NULL, zaplacono TINYINT(1) NOT NULL, dataWysylki DATETIME NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE zamowienie_produkt (zamowienie_id INT NOT NULL, produkt_id INT NOT NULL, INDEX IDX_EB607F923648EE4E (zamowienie_id), INDEX IDX_EB607F9275F42D9B (produkt_id), PRIMARY KEY(zamowienie_id, produkt_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
ALTER TABLE Przed ADD CONSTRAINT FK_343487E47C5C4730 FOREIGN KEY (grupa_id) REFERENCES Grupa (id);
ALTER TABLE atrybuty ADD CONSTRAINT FK_72F34559D0D49E6 FOREIGN KEY (wrapy_id) REFERENCES wrap (id);
ALTER TABLE atrybuty ADD CONSTRAINT FK_72F34559F82A6976 FOREIGN KEY (wymiar_id) REFERENCES wymiary (id);
ALTER TABLE atrybuty ADD CONSTRAINT FK_72F345595711CB1D FOREIGN KEY (margines_id) REFERENCES margines (id);
ALTER TABLE PodGrupa ADD CONSTRAINT FK_B2CA3322E9F13840 FOREIGN KEY (grupy_id) REFERENCES Grupa (id);
ALTER TABLE typy ADD CONSTRAINT FK_98DF0B66F0EC2B17 FOREIGN KEY (plotno) REFERENCES atrybuty (id);
ALTER TABLE typy ADD CONSTRAINT FK_98DF0B66373AA644 FOREIGN KEY (kubek_id) REFERENCES koszulka (id);
ALTER TABLE klient ADD CONSTRAINT FK_2B178638EB3B19C8 FOREIGN KEY (adresy_id) REFERENCES adres (id);
ALTER TABLE klient_zamowienie ADD CONSTRAINT FK_4CFE9F1EA233CB39 FOREIGN KEY (klient_id) REFERENCES klient (id) ON DELETE CASCADE;
ALTER TABLE klient_zamowienie ADD CONSTRAINT FK_4CFE9F1E3648EE4E FOREIGN KEY (zamowienie_id) REFERENCES zamowienie (id) ON DELETE CASCADE;
ALTER TABLE Produkt ADD CONSTRAINT FK_D42EB7393E9916E5 FOREIGN KEY (id_zdjecia_id) REFERENCES Przed (id);
ALTER TABLE Produkt ADD CONSTRAINT FK_D42EB7391CB77D52 FOREIGN KEY (id_filtru_id) REFERENCES filtr (id);
ALTER TABLE Produkt ADD CONSTRAINT FK_D42EB7394BC8727C FOREIGN KEY (id_typu_id) REFERENCES typy (id);
ALTER TABLE zamowienie_produkt ADD CONSTRAINT FK_EB607F923648EE4E FOREIGN KEY (zamowienie_id) REFERENCES zamowienie (id) ON DELETE CASCADE;
ALTER TABLE zamowienie_produkt ADD CONSTRAINT FK_EB607F9275F42D9B FOREIGN KEY (produkt_id) REFERENCES Produkt (id) ON DELETE CASCADE;
